---
const pathname = Astro.url.pathname;

const links = [
  { href: '/', label: 'Home' },
  { href: '/projects', label: 'Projects' },
  { href: '/journal', label: 'Journal' },
  { href: '/about', label: 'About' },
];

function isActive(href: string): boolean {
  if (href === '/') return pathname === '/';
  return pathname.startsWith(href);
}
---

<header class="site-header">
  <a href="/" class="brand">n8than.dev</a>
  <nav>
    {links.map(link => (
      <a
        href={link.href}
        aria-current={isActive(link.href) ? 'page' : undefined}
      >
        {link.label}
      </a>
    ))}
  </nav>
</header>

<style>
  .site-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-lg);
    padding: var(--space-md) var(--space-lg);
    max-width: 64rem;
    margin: 0 auto;
    border-bottom: 1px solid var(--color-border);
  }

  .brand {
    font-family: var(--font-display);
    font-weight: 700;
    font-size: 1.25rem;
    color: var(--color-text);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .brand:hover {
    color: var(--color-accent);
  }

  nav {
    display: flex;
    gap: var(--space-md);
    flex-wrap: wrap;
  }

  nav a {
    color: var(--color-muted);
    text-decoration: none;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-size: 0.8rem;
    font-weight: 500;
    transition: color 0.2s ease;
  }

  nav a:hover {
    color: var(--color-text);
  }

  nav a[aria-current='page'] {
    color: var(--color-accent);
    font-weight: 600;
  }

  @media (max-width: 600px) {
    .site-header {
      flex-direction: column;
      align-items: center;
      gap: var(--space-sm);
      padding: var(--space-sm) var(--space-md);
    }

    nav {
      justify-content: center;
      gap: var(--space-sm);
    }
  }
</style>
